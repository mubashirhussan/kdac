import{ThemeEvents as e,VariantUpdateEvent as t}from"@theme/events";class ProductPrice extends HTMLElement{connectedCallback(){let t=this.closest(".shopify-section, dialog");t&&t.addEventListener(e.variantUpdate,this.updatePrice)}disconnectedCallback(){let t=this.closest(".shopify-section, dialog");t&&t.removeEventListener(e.variantUpdate,this.updatePrice)}updatePrice=e=>{if(e.detail.data.newProduct)this.dataset.productId=e.detail.data.newProduct.id;else if(e.target instanceof HTMLElement&&e.target.dataset.productId!==this.dataset.productId)return;let t=e.detail.data.html.querySelector('product-price [ref="priceContainer"]'),a=this.querySelector('[ref="priceContainer"]');t&&a&&a.innerHTML!==t.innerHTML&&a.replaceWith(t)}}customElements.get("product-price")||customElements.define("product-price",ProductPrice);