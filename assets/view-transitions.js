!function(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){const e=document.getElementById("view-transition-render-blocker");e&&e.remove()}const e="function"==typeof requestIdleCallback?requestIdleCallback:setTimeout;function t(e){return"viewTransition"in e&&e.viewTransition instanceof ViewTransition}window.addEventListener("pageswap",(async e=>{if(!t(e))return;const{viewTransition:n}=e;["pointerdown","keydown"].forEach((e=>{document.addEventListener(e,(()=>{n.skipTransition()}),{once:!0})})),document.querySelectorAll("[data-view-transition-type]:not([data-view-transition-triggered])").forEach((e=>{e.removeAttribute("data-view-transition-type")}));const i=document.querySelector("[data-view-transition-triggered]"),a=i?.getAttribute("data-view-transition-type");a?(n.types.clear(),n.types.add(a),sessionStorage.setItem("custom-transition-type",a)):(n.types.clear(),n.types.add("page-navigation"),sessionStorage.removeItem("custom-transition-type"))})),window.addEventListener("pagereveal",(async n=>{if(!t(n))return;const{viewTransition:i}=n,a=sessionStorage.getItem("custom-transition-type");a?(i.types.clear(),i.types.add(a),await i.finished,i.types.clear(),i.types.add("page-navigation"),e((()=>{sessionStorage.removeItem("custom-transition-type"),document.querySelectorAll("[data-view-transition-type]").forEach((e=>{e.removeAttribute("data-view-transition-type")}))}))):(i.types.clear(),i.types.add("page-navigation"))}))}();