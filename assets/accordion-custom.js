import{mediaQueryLarge,isMobileBreakpoint}from"@theme/utilities";class AccordionCustom extends HTMLElement{get details(){const e=this.querySelector("details");if(!(e instanceof HTMLDetailsElement))throw new Error("Details element not found");return e}get summary(){const e=this.details.querySelector("summary");if(!(e instanceof HTMLElement))throw new Error("Summary element not found");return e}get#e(){return"true"===this.dataset.disableOnMobile}get#t(){return"true"===this.dataset.disableOnDesktop}get#s(){return"true"===this.dataset.closeWithEscape}#n=new AbortController;connectedCallback(){const{signal:e}=this.#n;this.#i(),this.addEventListener("keydown",this.#a,{signal:e}),this.summary.addEventListener("click",this.handleClick,{signal:e}),mediaQueryLarge.addEventListener("change",this.#o,{signal:e})}disconnectedCallback(){this.#n.abort()}handleClick=e=>{const t=isMobileBreakpoint(),s=!t;(t&&this.#e||s&&this.#t)&&e.preventDefault()};#o=()=>{this.#i()};#i(){const e=isMobileBreakpoint();this.details.open=e&&this.hasAttribute("open-by-default-on-mobile")||!e&&this.hasAttribute("open-by-default-on-desktop")}#a(e){"Escape"===e.key&&this.#s&&(e.preventDefault(),this.details.open=!1,this.summary.focus())}}customElements.get("accordion-custom")||customElements.define("accordion-custom",AccordionCustom);