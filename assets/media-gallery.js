import{Component as e}from"@theme/component";import{ThemeEvents as t,VariantUpdateEvent as a,ZoomMediaSelectedEvent as i}from"@theme/events";export class MediaGallery extends e{connectedCallback(){super.connectedCallback();let{signal:e}=this.#a,a=this.closest(".shopify-section, dialog");a?.addEventListener(t.variantUpdate,this.#b,{signal:e}),this.refs.zoomDialogComponent?.addEventListener(t.zoomMediaSelected,this.#c,{signal:e})}#a=new AbortController;disconnectedCallback(){super.disconnectedCallback(),this.#a.abort()}#b=e=>{let t=e.detail.data.html;if(!t)return;let a=t.querySelector("media-gallery");a&&this.replaceWith(a)};#c=async e=>{this.slideshow?.select(e.detail.index,void 0,{animate:!1})};zoom(e,t){this.refs.zoomDialogComponent?.open(e,t)}get slideshow(){return this.refs.slideshow}get media(){return this.refs.media}get presentation(){return this.dataset.presentation}}customElements.get("media-gallery")||customElements.define("media-gallery",MediaGallery);