import{debounce as e,requestIdleCallback as t,viewTransition as i}from"@theme/utilities";let OFFSET=40;export class FloatingPanelComponent extends HTMLElement{#a=async()=>{i.current&&await i.current;let e=this.getBoundingClientRect(),t=window.innerWidth;if(this.style.top="40px",e.right>t){let n=e.right-t+40;this.style.left=`-${n}px`}if(e.left<0){let s=Math.abs(e.left)+40;this.style.left=`${s}px`}this.#b.takeRecords()};#b=new MutationObserver(this.#a);#c=e(()=>{let e=this.closest("details"),t="true"===this.dataset.closeOnResize;e instanceof HTMLDetailsElement&&t&&(e.open=!1,e.removeAttribute("open"),this.#a())},100);connectedCallback(){window.addEventListener("resize",this.#c),t(()=>{this.#a(),this.#b.observe(this,{attributes:!0})})}disconnectedCallback(){window.removeEventListener("resize",this.#c),this.#b.disconnect()}}customElements.get("floating-panel-component")||customElements.define("floating-panel-component",FloatingPanelComponent);