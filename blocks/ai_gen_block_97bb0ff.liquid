{% doc %}
  @prompt
    Update the existing "Our Trusted Brand" slider section to add a text field for a title that displays below each logo image. Also ensure the slider navigation controls are horizontally centered. Keep all other existing functionality unchanged including the section title, image fields, URL links, and slider behavior on mobile and desktop.
    
    this should be an infinite scroll slider without a jerk with an option to add 25 logos with title option for each logo as well, auto scroll is not working and I don't want arrow controls in bottom, scroll should be smooth without a pause, section title should be left align
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-brand-slider-{{ ai_gen_id }} {
    width: 100%;
    overflow: hidden;
    padding: 40px 0;
  }

  .ai-brand-slider-container-{{ ai_gen_id }} {
    max-width: 1360px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .ai-brand-slider-header-{{ ai_gen_id }} {
    text-align: left;
    margin-bottom: 40px;
  }

  .ai-brand-slider-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.title_size }}px;
    color: {{ block.settings.title_color }};
    margin: 0;
  }

  .ai-brand-slider-wrapper-{{ ai_gen_id }} {
    position: relative;
  }

  .ai-brand-slider-track-container-{{ ai_gen_id }} {
    overflow: hidden;
    position: relative;
  }

  .ai-brand-slider-track-{{ ai_gen_id }} {
    display: flex;
    gap: {{ block.settings.logo_spacing }}px;
    width: fit-content;
  }

  .ai-brand-slider-track-{{ ai_gen_id }}.animate {
    animation: ai-brand-scroll-{{ ai_gen_id }} {{ block.settings.scroll_duration }}s linear infinite;
  }

  .ai-brand-slider-track-{{ ai_gen_id }}.paused {
    animation-play-state: paused;
  }

  .ai-brand-slider-slide-{{ ai_gen_id }} {
    flex: 0 0 auto;
    width: {{ block.settings.logo_width }}px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }

  .ai-brand-slider-logo-wrapper-{{ ai_gen_id }} {
    width: 100%;
    height: {{ block.settings.logo_height }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: {{ block.settings.logo_background }};
    border-radius: {{ block.settings.logo_border_radius }}px;
    padding: 16px;
    transition: transform 0.3s ease;
    box-sizing: border-box;
  }

  .ai-brand-slider-logo-wrapper-{{ ai_gen_id }}:hover {
    transform: scale(1.05);
  }

  .ai-brand-slider-logo-{{ ai_gen_id }} {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    object-fit: contain;
  }

  .ai-brand-slider-logo-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.logo_title_size }}px;
    color: {{ block.settings.logo_title_color }};
    text-align: center;
    margin: 0;
  }

  @keyframes ai-brand-scroll-{{ ai_gen_id }} {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  @media screen and (max-width: 749px) {
    .ai-brand-slider-container-{{ ai_gen_id }} {
      padding: 0;
      max-width: 350px;
    }

    .ai-brand-slider-{{ ai_gen_id }} {
      padding: 30px 0;
    }

    .ai-brand-slider-slide-{{ ai_gen_id }} {
      width: {{ block.settings.logo_width | times: 0.7 }}px;
    }

    .ai-brand-slider-logo-wrapper-{{ ai_gen_id }} {
      height: {{ block.settings.logo_height | times: 0.7 }}px;
      padding: 12px;
    }

    .ai-brand-slider-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.title_size | times: 0.7 }}px;
    }

    .ai-brand-slider-header-{{ ai_gen_id }} {
      margin-bottom: 30px;
    }

    .ai-brand-slider-logo-title-{{ ai_gen_id }} {
      font-size: {{ block.settings.logo_title_size | times: 0.9 }}px;
    }
  }
  {% comment %} /* Tablet view: 750px â€“ 1024px (iPad, small laptop etc.) */ {% endcomment %}
@media screen and (min-width: 750px) and (max-width: 1024px) {
  .ai-brand-slider-container-{{ ai_gen_id }} {
    max-width: 100%;
    padding: 0 16px;
  }

  .ai-brand-slider-slide-{{ ai_gen_id }} {
    /* Desktop se thora chhota, mobile se thora bada */
    width: {{ block.settings.logo_width | times: 0.85 }}px;
  }

  .ai-brand-slider-logo-wrapper-{{ ai_gen_id }} {
    height: {{ block.settings.logo_height | times: 0.85 }}px;
    padding: 14px;
  }

  .ai-brand-slider-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.title_size | times: 0.9 }}px;
  }

  .ai-brand-slider-logo-title-{{ ai_gen_id }} {
    font-size: {{ block.settings.logo_title_size | times: 0.95 }}px;
  }
}

{% endstyle %}


<brand-slider-{{ ai_gen_id }} class="ai-brand-slider-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-brand-slider-container-{{ ai_gen_id }}">
    {% if block.settings.section_title != blank %}
      <div class="ai-brand-slider-header-{{ ai_gen_id }}">
        <h2 class="ai-brand-slider-title-{{ ai_gen_id }}">{{ block.settings.section_title }}</h2>
      </div>
    {% endif %}

    <div class="ai-brand-slider-wrapper-{{ ai_gen_id }}">
      <div class="ai-brand-slider-track-container-{{ ai_gen_id }}">
        <div class="ai-brand-slider-track-{{ ai_gen_id }}" data-track>
          {% for i in (1..25) %}
            {% liquid
              assign logo_key = 'logo_' | append: i
              assign url_key = 'logo_url_' | append: i
              assign title_key = 'logo_title_' | append: i
              assign logo = block.settings[logo_key]
              assign url = block.settings[url_key]
              assign title = block.settings[title_key]
            %}

            {% if logo != blank %}
              <div class="ai-brand-slider-slide-{{ ai_gen_id }}">
                {% if url != blank %}
                  <a href="{{ url }}" class="ai-brand-slider-logo-wrapper-{{ ai_gen_id }}">
                    <img
                      src="{{ logo | image_url: width: 400 }}"
                      alt="{{ title | default: logo.alt | escape }}"
                      class="ai-brand-slider-logo-{{ ai_gen_id }}"
                      loading="lazy"
                      width="200"
                      height="100"
                    >
                  </a>
                {% else %}
                  <div class="ai-brand-slider-logo-wrapper-{{ ai_gen_id }}">
                    <img
                      src="{{ logo | image_url: width: 400 }}"
                      alt="{{ title | default: logo.alt | escape }}"
                      class="ai-brand-slider-logo-{{ ai_gen_id }}"
                      loading="lazy"
                      width="200"
                      height="100"
                    >
                  </div>
                {% endif %}
                {% if title != blank %}
                  <p class="ai-brand-slider-logo-title-{{ ai_gen_id }}">{{ title }}</p>
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</brand-slider-{{ ai_gen_id }}>

<script>
  (function() {
    class BrandSlider{{ ai_gen_id }} extends HTMLElement {
      constructor() {
        super();
      }

      connectedCallback() {
        this.track = this.querySelector('[data-track]');
        this.slides = Array.from(this.track.children);
        
        if (this.slides.length === 0) return;

        this.cloneSlides();
        this.setupEventListeners();
        this.startAnimation();
      }

      cloneSlides() {
        const slidesHTML = this.track.innerHTML;
        this.track.innerHTML += slidesHTML;
      }

      setupEventListeners() {
        this.addEventListener('mouseenter', () => {
          this.track.classList.add('paused');
        });

        this.addEventListener('mouseleave', () => {
          this.track.classList.remove('paused');
        });
      }

      startAnimation() {
        this.track.classList.add('animate');
      }
    }

    customElements.define('brand-slider-{{ ai_gen_id }}', BrandSlider{{ ai_gen_id }});
  })();
</script>

{% schema %}
{
  "name": "Trusted brands slider",
  "settings": [
    {
      "type": "header",
      "content": "Section"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section title",
      "default": "Our Trusted Brands"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 16,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Title size",
      "default": 32
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Scroll settings"
    },
    {
      "type": "range",
      "id": "scroll_duration",
      "min": 10,
      "max": 100,
      "step": 5,
      "unit": "s",
      "label": "Scroll duration",
      "default": 30
    },
    {
      "type": "header",
      "content": "Logo style"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 80,
      "max": 300,
      "step": 10,
      "unit": "px",
      "label": "Logo width",
      "default": 150
    },
    {
      "type": "range",
      "id": "logo_height",
      "min": 60,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "Logo height",
      "default": 100
    },
    {
      "type": "range",
      "id": "logo_spacing",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Logo spacing",
      "default": 30
    },
    {
      "type": "color",
      "id": "logo_background",
      "label": "Logo background",
      "default": "#f5f5f5"
    },
    {
      "type": "range",
      "id": "logo_border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Logo border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "logo_title_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Logo title size",
      "default": 14
    },
    {
      "type": "color",
      "id": "logo_title_color",
      "label": "Logo title color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Logo 1"
    },
    {
      "type": "image_picker",
      "id": "logo_1",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_1",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_1",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 2"
    },
    {
      "type": "image_picker",
      "id": "logo_2",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_2",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_2",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 3"
    },
    {
      "type": "image_picker",
      "id": "logo_3",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_3",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_3",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 4"
    },
    {
      "type": "image_picker",
      "id": "logo_4",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_4",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_4",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 5"
    },
    {
      "type": "image_picker",
      "id": "logo_5",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_5",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_5",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 6"
    },
    {
      "type": "image_picker",
      "id": "logo_6",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_6",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_6",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 7"
    },
    {
      "type": "image_picker",
      "id": "logo_7",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_7",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_7",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 8"
    },
    {
      "type": "image_picker",
      "id": "logo_8",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_8",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_8",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 9"
    },
    {
      "type": "image_picker",
      "id": "logo_9",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_9",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_9",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 10"
    },
    {
      "type": "image_picker",
      "id": "logo_10",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_10",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_10",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 11"
    },
    {
      "type": "image_picker",
      "id": "logo_11",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_11",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_11",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 12"
    },
    {
      "type": "image_picker",
      "id": "logo_12",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_12",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_12",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 13"
    },
    {
      "type": "image_picker",
      "id": "logo_13",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_13",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_13",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 14"
    },
    {
      "type": "image_picker",
      "id": "logo_14",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_14",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_14",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 15"
    },
    {
      "type": "image_picker",
      "id": "logo_15",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_15",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_15",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 16"
    },
    {
      "type": "image_picker",
      "id": "logo_16",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_16",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_16",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 17"
    },
    {
      "type": "image_picker",
      "id": "logo_17",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_17",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_17",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 18"
    },
    {
      "type": "image_picker",
      "id": "logo_18",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_18",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_18",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 19"
    },
    {
      "type": "image_picker",
      "id": "logo_19",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_19",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_19",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 20"
    },
    {
      "type": "image_picker",
      "id": "logo_20",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_20",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_20",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 21"
    },
    {
      "type": "image_picker",
      "id": "logo_21",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_21",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_21",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 22"
    },
    {
      "type": "image_picker",
      "id": "logo_22",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_22",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_22",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 23"
    },
    {
      "type": "image_picker",
      "id": "logo_23",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_23",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_23",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 24"
    },
    {
      "type": "image_picker",
      "id": "logo_24",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_24",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_24",
      "label": "Logo title"
    },
    {
      "type": "header",
      "content": "Logo 25"
    },
    {
      "type": "image_picker",
      "id": "logo_25",
      "label": "Logo image"
    },
    {
      "type": "url",
      "id": "logo_url_25",
      "label": "Logo link"
    },
    {
      "type": "text",
      "id": "logo_title_25",
      "label": "Logo title"
    }
  ],
  "presets": [
    {
      "name": "Trusted brands slider"
    }
  ]
}
{% endschema %}